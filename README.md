# works
一些工作的记录


最近的一个需求
1, 要做个加密解密 . 用cocos ts 
2, 两种加密方式  RSA 加密方式, aes加密方式

后端用的php 有现成的库调用方法即可.


因为 cocos 用的 ts版本 ,  而js的库虽然可以用, 但是还是感觉不如TS 那种用起来舒服. 


RSA加密.  JSEncrypt  AES 用 CryptoTS 需要 npm安装下. 


在加密过程中.  主要还是对加密 过程了解. 

在了解的过程中, 遇到了一个比较棘手的问题

rsa 加密.   公钥 负责加密  私钥解密.  但是 php端.  用的库openssl 可以用私钥和公钥加密, 反之一样. 

业务需求是,  通过 rsa加密对 aeskey加密解密,   客户端只暴露一个 公钥.  

但cocos ts 的Rsa库只能公钥加密, 私钥解密.  公钥解不了.  所以在同事的帮助下.   对 jsEncrypt的进行了修改.  让前端也可以用公钥解密. 

具体 怎么改.  其实网上是有解决方案的.  搜索 rsa公钥解密.  就可以找到了. 

顺便把 jsEncrpt的源码引入项目中, 研究研究改改.

******* 注意 这个测试一定要配合后端的.  只做了前端 公钥解密,  没有做 私钥加密.  所以 测试的时候, 需要拿后端私钥加密后的值, 来解.  

这个 需要修改源码需要对密码学 了解 并且了解数学原理.

